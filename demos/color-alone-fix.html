<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fix HAP's Color-Only Indicators - Interactive Demo</title>
    <link rel="icon" type="image/png" sizes="16x16"
        href="https://res.cloudinary.com/cynthia-teeters/image/upload/f_png,q_auto,w_16,h_16/v1759596416/hap-favicon-h_gosgur.jpg">
    <link rel="icon" type="image/png" sizes="32x32"
        href="https://res.cloudinary.com/cynthia-teeters/image/upload/f_png,q_auto,w_32,h_32/v1759596416/hap-favicon-h_gosgur.jpg">
    <link rel="apple-touch-icon" sizes="180x180"
        href="https://res.cloudinary.com/cynthia-teeters/image/upload/f_png,q_auto,w_180,h_180/v1759596416/hap-favicon-h_gosgur.jpg">
    <link rel="icon" type="image/png" sizes="192x192"
        href="https://res.cloudinary.com/cynthia-teeters/image/upload/f_png,q_auto,w_192,h_192/v1759596416/hap-favicon-h_gosgur.jpg">
    <!-- HAP Design System -->
    <link rel="stylesheet" href="../css/style.css">

    <!-- Prism.js for syntax highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
</head>

<body class="color-alone-demo">
    <a href="#main-content" class="sr-only">Skip to main content</a>

    <div class="container" id="main-content">
        <header>
            <h1>Fix HAP's Color-Only Indicators</h1>
            <p class="intro">HAP used to rely only on color to communicate meaning. Help fix these examples by adding
                icons, underlines, or text labels so everyone can understand them! Remember: icons supplement text—don't
                use icons or color alone.</p>
        </header>

        <!-- Problem 1: Error Message -->
        <div class="problem-card">
            <h2>Problem 1: Error message</h2>
            <div class="problem-example" id="error-example">
                <p class="error-text" id="error-message">Your password is incorrect.</p>
            </div>

            <div class="fix-controls">
                <h3>Add accessibility fixes:</h3>
                <label class="fix-option">
                    <input type="checkbox" id="error-icon-check" onchange="updateError()">
                    Add ✕ icon before text
                </label>
                <label class="fix-option">
                    <input type="checkbox" id="error-label-check" onchange="updateError()">
                    Add "Error:" text label
                </label>
            </div>

            <div class="feedback" id="error-feedback"></div>
        </div>

        <!-- Problem 2: Success Message -->
        <div class="problem-card">
            <h2>Problem 2: Success message</h2>
            <div class="problem-example" id="success-example">
                <p class="success-text" id="success-message">Profile updated successfully!</p>
            </div>

            <div class="fix-controls">
                <h3>Add accessibility fixes:</h3>
                <label class="fix-option">
                    <input type="checkbox" id="success-icon-check" onchange="updateSuccess()">
                    Add ✓ icon before text
                </label>
                <label class="fix-option">
                    <input type="checkbox" id="success-label-check" onchange="updateSuccess()">
                    Add "Success:" text label
                </label>
            </div>

            <div class="feedback" id="success-feedback"></div>
        </div>

        <!-- Problem 3: Link -->
        <div class="problem-card">
            <h2>Problem 3: Link with no underline</h2>
            <div class="problem-example" id="link-example">
                <p>Check out <span class="link-example" id="link-text">HAP's color guide</span> for more tips.</p>
            </div>

            <div class="fix-controls">
                <h3>Add accessibility fixes:</h3>
                <label class="fix-option">
                    <input type="checkbox" id="link-underline-check" onchange="updateLink()">
                    Add underline to link
                </label>
            </div>

            <div class="feedback" id="link-feedback"></div>
        </div>

        <!-- Problem 4: Required Field -->
        <div class="problem-card">
            <h2>Problem 4: Required field indicator</h2>
            <div class="problem-example" id="required-example">
                <div class="required-field">
                    <label for="email-input">
                        Email <span class="required-asterisk">*</span>
                    </label>
                    <input type="email" id="email-input" placeholder="you@example.com">
                    <div id="required-hint"></div>
                </div>
            </div>

            <div class="fix-controls">
                <h3>Add accessibility fixes:</h3>
                <label class="fix-option">
                    <input type="checkbox" id="required-text-check" onchange="updateRequired()">
                    Add text explaining what * means
                </label>
            </div>

            <div class="feedback" id="required-feedback"></div>
        </div>

        <!-- Page Navigation -->
        <nav class="page-navigation" aria-label="Demo navigation">
            <a href="../stations/station4.html">← Back to Station 4</a>
            <a href="../index.html">Return to Hub →</a>
        </nav>
    </div>

    <script>
        // Problem 1: Error Message
        function updateError() {
            const iconChecked = document.getElementById('error-icon-check').checked;
            const labelChecked = document.getElementById('error-label-check').checked;
            const message = document.getElementById('error-message');
            const example = document.getElementById('error-example');
            const feedback = document.getElementById('error-feedback');

            // Reset
            message.className = 'error-text';
            let text = 'Your password is incorrect.';

            // Apply fixes
            if (iconChecked) {
                message.classList.add('icon-before', 'error-icon');
            }
            if (labelChecked) {
                text = 'Error: Your password is incorrect.';
            }

            message.textContent = text;

            // Show feedback
            if (iconChecked && labelChecked) {
                example.classList.add('fixed');
                feedback.className = 'feedback success show';
                feedback.textContent = '✓ Perfect! Now colorblind users and screen readers can understand this is an error.';
            } else if (iconChecked || labelChecked) {
                example.classList.remove('fixed');
                feedback.className = 'feedback partial show';
                feedback.textContent = '⚠️ Good start! Try adding both the icon AND the text label for maximum clarity.';
            } else {
                example.classList.remove('fixed');
                feedback.className = 'feedback';
            }
        }

        // Problem 2: Success Message
        function updateSuccess() {
            const iconChecked = document.getElementById('success-icon-check').checked;
            const labelChecked = document.getElementById('success-label-check').checked;
            const message = document.getElementById('success-message');
            const example = document.getElementById('success-example');
            const feedback = document.getElementById('success-feedback');

            // Reset
            message.className = 'success-text';
            let text = 'Profile updated successfully!';

            // Apply fixes
            if (iconChecked) {
                message.classList.add('icon-before', 'success-icon');
            }
            if (labelChecked) {
                text = 'Success: Profile updated successfully!';
            }

            message.textContent = text;

            // Show feedback
            if (iconChecked && labelChecked) {
                example.classList.add('fixed');
                feedback.className = 'feedback success show';
                feedback.textContent = '✓ Excellent! The checkmark and "Success:" label make this clear for everyone.';
            } else if (iconChecked || labelChecked) {
                example.classList.remove('fixed');
                feedback.className = 'feedback partial show';
                feedback.textContent = '⚠️ Getting there! Both icon and label together provide the clearest message.';
            } else {
                example.classList.remove('fixed');
                feedback.className = 'feedback';
            }
        }

        // Problem 3: Link
        function updateLink() {
            const underlineChecked = document.getElementById('link-underline-check').checked;
            const link = document.getElementById('link-text');
            const example = document.getElementById('link-example');
            const feedback = document.getElementById('link-feedback');

            if (underlineChecked) {
                link.classList.add('fixed');
                example.classList.add('fixed');
                feedback.className = 'feedback success show';
                feedback.textContent = '✓ Perfect! Now everyone can see this is a clickable link, not just people who can see blue.';
            } else {
                link.classList.remove('fixed');
                example.classList.remove('fixed');
                feedback.className = 'feedback';
            }
        }

        // Problem 4: Required Field
        function updateRequired() {
            const textChecked = document.getElementById('required-text-check').checked;
            const hint = document.getElementById('required-hint');
            const example = document.getElementById('required-example');
            const feedback = document.getElementById('required-feedback');

            if (textChecked) {
                hint.className = 'required-text';
                hint.textContent = '* = required field';
                example.classList.add('fixed');
                feedback.className = 'feedback success show';
                feedback.textContent = '✓ Great! Now the asterisk meaning is clear even if someone can\'t see the red color.';
            } else {
                hint.textContent = '';
                hint.className = '';
                example.classList.remove('fixed');
                feedback.className = 'feedback';
            }
        }
    </script>
</body>

</html>